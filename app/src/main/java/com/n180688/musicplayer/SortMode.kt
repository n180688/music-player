package com.n180688.musicplayer

/**
 * –†–µ–∂–∏–º—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Ç—Ä–µ–∫–æ–≤
 */
enum class SortMode {
    A_Z,        // –ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é –æ—Ç A –¥–æ Z
    Z_A,        // –ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é –æ—Ç Z –¥–æ A
    DATE_ADDED; // –ü–æ –¥–∞—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (–Ω–æ–≤—ã–µ –ø–µ—Ä–≤—ã–µ)

    /**
     * –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —Ä–µ–∂–∏–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏)
     * A_Z ‚Üí Z_A ‚Üí DATE_ADDED ‚Üí A_Z
     */
    fun next(): SortMode {
        return when (this) {
            A_Z -> Z_A
            Z_A -> DATE_ADDED
            DATE_ADDED -> A_Z
        }
    }

    /**
     * –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –∫–Ω–æ–ø–∫–µ
     */
    fun getDisplayText(): String {
        return when (this) {
            A_Z -> "üî§ A-Z"
            Z_A -> "üî§ Z-A"
            DATE_ADDED -> "üïê –î–∞—Ç–∞"
        }
    }

    /**
     * –°–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ —Ç–µ–∫—É—â–µ–º—É —Ä–µ–∂–∏–º—É
     * @param tracks –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫–æ–≤ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
     * @return –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
     */
    fun sort(tracks: List<Track>): List<Track> {
        return when (this) {
            A_Z -> {
                // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –æ—Ç A –¥–æ Z (case-insensitive)
                tracks.sortedBy { it.title.lowercase() }
            }
            Z_A -> {
                // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –æ—Ç Z –¥–æ A
                tracks.sortedByDescending { it.title.lowercase() }
            }
            DATE_ADDED -> {
                // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ ID (ID –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞)
                // –ë–æ–ª—å—à–∏–µ ID = –±–æ–ª–µ–µ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
                tracks.sortedByDescending { it.id }
            }
        }
    }
}
